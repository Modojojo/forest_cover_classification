schema: '2.0'
stages:
  fetch_training_data:
    cmd: python src/fetch_data_from_cloud.py --config=params.yaml
    deps:
    - path: src/cloud_connect.py
      md5: 0435d08d752e3e99ab4224a267ca47ae
      size: 4050
    outs:
    - path: reports/training_data_fetch_report.json
      md5: 960d0f8944213d4b79a7aeaee84c6e78
      size: 699
  validate_training_data:
    cmd: python src/validate_training_data.py --config=params.yaml
    deps:
    - path: src/fetch_data_from_cloud.py
      md5: 3b7877108a48e8191b13d2b19df3f0f1
      size: 1011
    - path: src/training_validator.py
      md5: 46f0f814a9e6baa16bb52eb607468263
      size: 1475
    outs:
    - path: reports/validated_training_filenames_report.json
      md5: 7b1ff0b357c7e5f82f43de2e6ae9a5c6
      size: 530
  validate_and_insert_training_data_into_db:
    cmd: python src/val_insert_training_data_db.py --config=params.yaml
    deps:
    - path: src/db_connect.py
      md5: b4e2108c5fe67f4b42fc316fa0c06827
      size: 4153
    - path: src/fetch_data_from_cloud.py
      md5: 3b7877108a48e8191b13d2b19df3f0f1
      size: 1011
    - path: src/training_validator.py
      md5: 46f0f814a9e6baa16bb52eb607468263
      size: 1475
    outs:
    - path: reports/training_data_insertion_report.json
      md5: 281719fdc12d2f82e0f59def3ada949e
      size: 48
    - path: reports/validated_training_filenames_report.json
      md5: 7b1ff0b357c7e5f82f43de2e6ae9a5c6
      size: 530
  training:
    cmd: python src/training.py --config=params.yaml
    deps:
    - path: src/cloud_connect.py
      md5: 0435d08d752e3e99ab4224a267ca47ae
      size: 4050
    - path: src/cluster_builder.py
      md5: e9833f0284d7b68a1585f1cd3c4bbdd7
      size: 3196
    - path: src/db_connect.py
      md5: b4e2108c5fe67f4b42fc316fa0c06827
      size: 4153
    - path: src/model_builder.py
      md5: 496e06ec7104fa25aaff4470bab22146
      size: 14544
    - path: src/training_data_preprocessor.py
      md5: 710e7a9e4f460fb8517e1bf82da0a99a
      size: 2449
    outs:
    - path: reports/training_models_report.json
      md5: 102751818344182d18f97f1e8c53c98d
      size: 177
